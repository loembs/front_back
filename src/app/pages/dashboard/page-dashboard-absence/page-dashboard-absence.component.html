
<!-- page-dashboard-absence.component.html -->
<div class="page-container">
  <!-- Header -->
  <header class="header">
    <img src="../asset/logo ism.jpg" alt="ISM Logo" class="logo" />
  </header>

  <!-- Dashboard section -->
  <section class="dashboard">
    <h1>DASHBOARD</h1>
  </section>

  <!-- Profil Responsable -->
  <section class="responsable-card">
    <img src="../asset/rs.jpg" alt="Photo Responsable" class="responsable-photo" />
    <div class="responsable-info">
      <h2>KANE DIABY</h2>
      <p>RESPONSABLE DE PROGRAMME</p>
      <p>
        Sit tempor in egestas eget risus fames massa. Morbi vitae ante t ortor lacinia amet cursus est eget nisi.
        Est mauris nam a euismod in nibh.
      </p>
    </div>
    <button class="btn-justificatif">JUSTIFICATIF</button>
  </section>

<!-- Barre de filtre avec actions -->
<div class="filter-bar">
  <select [(ngModel)]="absenceFilter.batiment">
    <option value="">Tous les bâtiments</option>
    <option value="Ingenieur">Ingénieur</option>
    <option value="Management">Management</option>
    <option value="Madiba">Madiba</option>
    <option value="Droit">Droit</option>
  </select>

  <input type="date" [(ngModel)]="absenceFilter.date" />

  <select [(ngModel)]="absenceFilter.status">
    <option value="">Tous les statuts</option>
    <option value="Justifie">Justifié</option>
    <option value="Non-justifie">Non-justifié</option>
    <option value="En-attente">En-attente</option>
  </select>

  <button (click)="applyFilter()" class="btn-filtre">Rechercher</button>
  <button (click)="resetFilter()" class="btn-reset">Réinitialiser</button>
</div>
  <!-- Liste des absences -->
  <div class="table-container">
    <h2>LISTE DES ABSENCES</h2>
    <table>
      <thead>
        <tr>
          <th>Photo</th>
          <th>Nom</th>
          <th>Matricule</th>
          <th>Classe</th>
          <th>Date</th>
          <th>Cours</th>
          <th>Statut</th>
          <th>Justification</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let absence of absences">
          <td><img [src]="absence.photo" alt="photo" class="avatar" /></td>
          <td>{{ absence.nom }}</td>
          <td>{{ absence.matricule }}</td>
          <td>{{ absence.classe }}</td>
          <td>{{ absence.date | date: 'dd/MM/yyyy' }}</td>
          <td>{{ absence.cours }}</td>
          <td>
            <span [ngClass]="{
              'status-justifie': absence.status === 'Justifie',
              'status-non': absence.status === 'Non-justifie',
              'status-attente': absence.status === 'En-attente'
            }">
              {{ absence.status.toUpperCase() }}
            </span>
          </td>
          <td>
            <button *ngIf="absence.status === 'En-attente'" class="btn-voir">Voir</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>